<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Unique Variable Glowing Charts</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      background: #1a1c23;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 40px;
      padding: 50px;
    }
    canvas {
      width: 400px;
      height: 200px;
    }
  </style>
</head>
<body>
  <canvas id="chart1"></canvas>
  <canvas id="chart2"></canvas>
  <script>
    // Global glow plugin (can be reused)
    const unique_glowPlugin = {
      id: 'unique_glow',
      beforeDatasetsDraw(chart) {
        const ctx = chart.ctx;
        ctx.save();
        ctx.shadowColor = chart.config._glowColor || 'red';
        ctx.shadowBlur = 12;
      },
      afterDatasetsDraw(chart) {
        chart.ctx.restore();
      }
    };
    function createUniqueGlowingChart(prefix, canvasId, dataPoints, color) {
      const ctxVar = prefix + "_ctx";
      const chartVar = prefix + "_chart";

      const context = document.getElementById(canvasId).getContext("2d");

      // Use dynamic scope-safe object map (optional)
      window[ctxVar] = context;
      window[chartVar] = new Chart(context, {
        type: "line",
        data: {
          labels: dataPoints.map((_, i) => i + 1),
          datasets: [{
            data: dataPoints,
            borderColor: color,
            borderWidth: 2,
            fill: false,
            tension: 0,
            pointRadius: (ctx) =>
              ctx.dataIndex === dataPoints.length - 1 ? 6 : 0,
            pointBackgroundColor: color,
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
          },
          scales: {
            x: { display: false, grid: { display: false } },
            y: { display: false, grid: { display: false } },
          },
          animation: { duration: 1000 },
        },
        plugins: [unique_glowPlugin],
        _glowColor: color,
      });
    }

    // Use with unique prefixes
    createUniqueGlowingChart("chart1", "chart1", [15, 35, 25, 60, 30, 50, 40, 65, 60], "red");
    createUniqueGlowingChart("chart2", "chart2", [20, 40, 30, 55, 35, 45, 55, 70, 65], "lime");
  </script>
</body>
</html>
